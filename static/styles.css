/* static/styles.css */

:root {
  --primary-color: #4c6ef5;
  --primary-dark: #3b5bdb;
  --primary-light: #748ffc;
  --secondary-color: #40c057;
  --secondary-dark: #2b9348;
  --secondary-light: #69db7c;
  --warning-color: #ff922b;
  --danger-color: #fa5252;
  --light-bg: #f8f9fa;
  --dark-bg: #212529;
  --grey-light: #ced4da;
  --grey-mid: #adb5bd;
  --grey-dark: #495057;
  --font-main: 'Nunito', sans-serif;
  --font-accent: 'Quicksand', sans-serif;
  --shadow-sm: 0 2px 4px rgba(0, 0, 0, 0.1);
  --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.1);
  --shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.1);
  --radius-sm: 4px;
  --radius-md: 8px;
  --radius-lg: 12px;
}

/* Global Styles */
body {
  font-family: var(--font-main);
  line-height: 1.6;
  color: var(--grey-dark);
  background-color: var(--light-bg);
}

h1, h2, h3, h4, h5, h6 {
  font-family: var(--font-accent);
  font-weight: 700;
  color: var(--primary-dark);
  margin-bottom: 1rem;
}

/* Custom Components */
.visolearn-card {
  background: white;
  border-radius: var(--radius-md);
  box-shadow: var(--shadow-md);
  padding: 1.5rem;
  margin-bottom: 1.5rem;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.visolearn-card:hover {
  transform: translateY(-5px);
  box-shadow: var(--shadow-lg);
}

.visolearn-btn {
  display: inline-block;
  background: var(--primary-color);
  color: white;
  border: none;
  border-radius: var(--radius-sm);
  padding: 0.5rem 1.25rem;
  font-weight: 600;
  cursor: pointer;
  transition: background 0.3s ease, transform 0.2s ease;
}

.visolearn-btn:hover {
  background: var(--primary-dark);
  transform: translateY(-2px);
}

.visolearn-btn.secondary {
  background: var(--secondary-color);
}

.visolearn-btn.secondary:hover {
  background: var(--secondary-dark);
}

.visolearn-btn.outlined {
  background: transparent;
  border: 2px solid var(--primary-color);
  color: var(--primary-color);
}

.visolearn-btn.outlined:hover {
  background: var(--primary-light);
  color: white;
}

/* Progress and Status Indicators */
.progress-bar {
  height: 10px;
  background: var(--grey-light);
  border-radius: 5px;
  overflow: hidden;
  margin: 1rem 0;
}

.progress-bar-fill {
  height: 100%;
  background: var(--primary-color);
  border-radius: 5px;
  transition: width 0.5s ease;
}

.status-badge {
  display: inline-block;
  padding: 0.25rem 0.75rem;
  border-radius: 1rem;
  font-size: 0.85rem;
  font-weight: 600;
}

.status-badge.success {
  background: var(--secondary-light);
  color: var(--secondary-dark);
}

.status-badge.warning {
  background: #ffec99;
  color: #e67700;
}

.status-badge.danger {
  background: #ffc9c9;
  color: #c92a2a;
}

/* Responsive Breakpoints */
@media (max-width: 768px) {
  .visolearn-card {
    padding: 1rem;
  }

  h1 {
    font-size: 1.75rem;
  }

  h2 {
    font-size: 1.5rem;
  }
}

/* Custom Gradio Overrides */
.gradio-container {
  max-width: 100% !important;
}

.gradio-row {
  gap: 1.5rem !important;
}

.gradio-accordion {
  border-radius: var(--radius-md) !important;
  box-shadow: var(--shadow-sm) !important;
}

/* Dark Mode Overrides */
@media (prefers-color-scheme: dark) {
  body {
    background-color: var(--dark-bg);
    color: #e9ecef;
  }

  h1, h2, h3, h4, h5, h6 {
    color: var(--primary-light);
  }

  .visolearn-card {
    background: #343a40;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
  }

  .visolearn-btn.outlined {
    border-color: var(--primary-light);
    color: var(--primary-light);
  }

  .status-badge.success {
    background: var(--secondary-dark);
    color: var(--secondary-light);
  }
}
```

```javascript
// static/scripts.js

document.addEventListener('DOMContentLoaded', () => {
  // Helper functions for UI enhancements

  // Function to animate progress bars
  function initProgressBars() {
    const progressBars = document.querySelectorAll('.progress-bar-fill');
    progressBars.forEach(bar => {
      const targetWidth = bar.getAttribute('data-width') || '0';
      setTimeout(() => {
        bar.style.width = targetWidth + '%';
      }, 100);
    });
  }

  // Function to handle collapsible sections
  function initCollapsibles() {
    const collapsibleHeaders = document.querySelectorAll('.collapsible-header');
    collapsibleHeaders.forEach(header => {
      header.addEventListener('click', () => {
        const content = header.nextElementSibling;
        header.classList.toggle('active');
        if (content.style.maxHeight) {
          content.style.maxHeight = null;
        } else {
          content.style.maxHeight = content.scrollHeight + 'px';
        }
      });
    });
  }

  // Function to add custom tooltips
  function initTooltips() {
    const tooltipElements = document.querySelectorAll('[data-tooltip]');
    tooltipElements.forEach(element => {
      const tooltipText = element.getAttribute('data-tooltip');
      const tooltip = document.createElement('div');
      tooltip.className = 'tooltip';
      tooltip.textContent = tooltipText;

      element.addEventListener('mouseenter', () => {
        document.body.appendChild(tooltip);
        const rect = element.getBoundingClientRect();
        tooltip.style.top = rect.bottom + 10 + 'px';
        tooltip.style.left = rect.left + (rect.width / 2) - (tooltip.offsetWidth / 2) + 'px';
        setTimeout(() => tooltip.classList.add('show'), 10);
      });

      element.addEventListener('mouseleave', () => {
        tooltip.classList.remove('show');
        setTimeout(() => {
          if (tooltip.parentNode) {
            document.body.removeChild(tooltip);
          }
        }, 300);
      });
    });
  }

  // Function to handle image zoom functionality
  function initImageZoom() {
    const zoomableImages = document.querySelectorAll('.zoomable-image');
    zoomableImages.forEach(img => {
      img.addEventListener('click', () => {
        const overlay = document.createElement('div');
        overlay.className = 'image-zoom-overlay';

        const imgClone = img.cloneNode();
        imgClone.className = 'zoomed-image';

        overlay.appendChild(imgClone);
        document.body.appendChild(overlay);

        overlay.addEventListener('click', () => {
          overlay.classList.add('fade-out');
          setTimeout(() => {
            document.body.removeChild(overlay);
          }, 300);
        });
      });
    });
  }

  // Function to handle keyboard shortcuts
  function initKeyboardShortcuts() {
    document.addEventListener('keydown', (e) => {
      // Ctrl/Cmd + G to generate image
      if ((e.ctrlKey || e.metaKey) && e.key === 'g') {
        e.preventDefault();
        const generateBtn = document.querySelector('#generate-image-btn');
        if (generateBtn) generateBtn.click();
      }

      // Ctrl/Cmd + Enter to submit chat
      if ((e.ctrlKey || e.metaKey) && e.key === 'Enter') {
        e.preventDefault();
        const submitBtn = document.querySelector('#submit-chat-btn');
        if (submitBtn) submitBtn.click();
      }
    });
  }

  // Function to enhance form inputs
  function enhanceFormInputs() {
    // Add character counter to textareas
    const textareas = document.querySelectorAll('textarea[data-max-length]');
    textareas.forEach(textarea => {
      const maxLength = parseInt(textarea.getAttribute('data-max-length'));
      const counterElem = document.createElement('div');
      counterElem.className = 'char-counter';
      textarea.parentNode.insertBefore(counterElem, textarea.nextSibling);

      function updateCounter() {
        const remaining = maxLength - textarea.value.length;
        counterElem.textContent = `${remaining} characters remaining`;
        if (remaining < 20) {
          counterElem.classList.add('warning');
        } else {
          counterElem.classList.remove('warning');
        }
      }

      textarea.addEventListener('input', updateCounter);
      updateCounter(); // Initial count
    });
  }

  // Initialize all UI enhancements
  initProgressBars();
  initCollapsibles();
  initTooltips();
  initImageZoom();
  initKeyboardShortcuts();
  enhanceFormInputs();

  // Re-initialize UI elements when Gradio interface updates
  // This requires integration with Gradio's update events
  document.addEventListener('gradio:update', (e) => {
    setTimeout(() => {
      initProgressBars();
      initCollapsibles();
      initTooltips();
      initImageZoom();
      enhanceFormInputs();
    }, 100);
  });
});
